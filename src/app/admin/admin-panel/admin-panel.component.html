<div class="container-fluid mt-4">
    <div class="row w-100">
        <div class="col-sm-12 rounded shadow p-0 m-0">
            <div class="card">
                <div class="card-header bg-secondary">
                    <h4 class="text-light text-outline-dark">Admin Control Panel</h4>
                </div>
                <div class="card-body my-4">
                    <h4 class="card-text">API Status</h4>
                    <hr class="w-100">
                    <div class="col-sm-12 mb-4">
                        <p class="card-text">Server Address: <a target="_blank" href="{{serverAddr}}">{{serverAddr}}</a>
                        </p>
                        <p class="card-text">Connection: <i
                                [ngClass]="!dbStatus ? 'text-danger fas fa-times':'text-success fas fa-check'"></i></p>
                        <button class="btn-system btn-block mb-2 text-center" (click)="dbTestConnection()">Test
                            Connection</button>
                    </div>
                    <h4 class="card-text">Analytics:</h4>
                    <hr class="w-100">
                    <div *ngIf="report !== 'null'" class="container-fluid mb-2 py-2">
                        <div class="row my-2 justify-content-between">
                            <div class="col-sm-12 col-md-6 p-0 pr-md-2 mb-sm-3">
                                <div class="chart col-sm-12 rounded py-4">
                                    <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels"
                                        [chartType]="pieChartType" [options]="pieChartOptions"
                                        [plugins]="pieChartPlugins" [colors]="pieChartColors" [legend]="pieChartLegend">
                                    </canvas>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 mb-sm-2 p-0 pl-md-2">
                                <div class="chart col-sm-12 rounded py-4">
                                    <canvas baseChart [data]="pieChartData2" [labels]="pieChartLabels2"
                                        [chartType]="pieChartType" [options]="pieChartOptions2"
                                        [plugins]="pieChartPlugins" [colors]="pieChartColors" [legend]="pieChartLegend">
                                    </canvas>
                                </div>
                            </div>
                        </div>
                        <div class="row justify-content-middle">
                            <div class="chart col-sm-12 rounded pt-2 pb-4">
                                <canvas baseChart width="400" height="400" [datasets]="lineChartData"
                                    [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors"
                                    [legend]="lineChartLegend" [chartType]="lineChartType" [plugins]="lineChartPlugins">
                                </canvas>
                            </div>
                        </div>
                    </div>
                    <h4 class="card-text">Actions:</h4>
                    <hr class="w-100">
                    <div class="col-sm-auto">
                        <a class="btn-system btn-block mb-2 text-center" routerLink="../list">View Adoptables</a>
                        <a class="btn-system btn-block mb-2 text-center" routerLink="../new">Create New Adoptable</a>
                    </div>
                    <hr>
                    <div class="col-sm-auto">
                        <button class="btn-system btn-block mb-2" (click)="generateTestData()">Generate Test
                            Data</button>
                        <button class="btn-system btn-block mb-2" [ngClass]="purging ? 'pulse':null"
                            (mousedown)="start();" (mouseup)="stop();">
                            Purge Database
                        </button>
                        <p class="text-left my-4">
                            Warning: Purging the database will delete all documents from the database.
                            This process can be started by holding the button for 30 seconds and stopped by releasing
                            the button.
                            Please note that this action is irreversible and that by starting this process you take all
                            responsibility for any damages incurred.
                        </p>
                    </div>
                    <div class="col-sm-12 text-center">
                        <button class="btn-system my-2 py-2 px-4" (click)="onSignOut()">Sign Out</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>